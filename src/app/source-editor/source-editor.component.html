@if (vm(); as vm) {
  <form (ngSubmit)="submitForm()" class="vstack gap-3">
    <app-input-source
      [ancestryDatabase]="vm.computedDatabase"
      [formControl]="this.form"
      name="source"
    ></app-input-source>

    <h2>Gedcom Delta</h2>
    @for (r of vm.differences; track $index) {
      <app-gedcom-diff
        [oldGedcomRecord]="r.canonicalRecord"
        [newGedcomRecord]="r.currentRecord"
      ></app-gedcom-diff>
    }

    <input type="submit" />
    <input type="button" value="Cancel" (click)="cancelForm()" />
  </form>
}
